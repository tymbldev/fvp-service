{
	"info": {
		"_postman_id": "fvp-service-collection",
		"name": "FVP Service",
		"description": "Collection of all FVP Service API endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Health Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/health",
							"host": ["{{base_url}}"],
							"path": ["api", "health"]
						},
						"description": "Get the health status of the service and its components"
					},
					"response": []
				},
				{
					"name": "Ping",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/health/ping",
							"host": ["{{base_url}}"],
							"path": ["api", "health", "ping"]
						},
						"description": "Simple ping endpoint to check if the service is responding"
					},
					"response": []
				}
			]
		},
		{
			"name": "Categories",
			"item": [
				{
					"name": "Get Home Categories",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Tenant-ID",
								"value": "0",
								"type": "text",
								"description": "Tenant ID (optional, defaults to 0)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/categories/home",
							"host": ["{{base_url}}"],
							"path": ["api", "categories", "home"]
						},
						"description": "Get all categories with home=1, ordered by home_cat_order, including a random link for each category"
					},
					"response": []
				},
				{
					"name": "Get Category First Link",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Tenant-ID",
								"value": "0",
								"type": "text",
								"description": "Tenant ID (optional, defaults to 0)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/categories/:categoryName/first",
							"host": ["{{base_url}}"],
							"path": ["api", "categories", ":categoryName", "first"],
							"variable": [
								{
									"key": "categoryName",
									"value": "man",
									"description": "Name of the category to get first link for"
								}
							]
						},
						"description": "Get the first link for a specific category (cached)"
					},
					"response": []
				},
				{
					"name": "Get Category Links (Paginated)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Tenant-ID",
								"value": "0",
								"type": "text",
								"description": "Tenant ID (optional, defaults to 0)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/categories/:categoryName/links?page=0&size=20&maxDuration=&quality=",
							"host": ["{{base_url}}"],
							"path": ["api", "categories", ":categoryName", "links"],
							"query": [
								{
									"key": "page",
									"value": "0",
									"description": "Page number (zero-based)"
								},
								{
									"key": "size",
									"value": "20",
									"description": "Number of items per page"
								},
								{
									"key": "maxDuration",
									"value": "",
									"description": "Optional filter for maximum duration"
								},
								{
									"key": "quality",
									"value": "",
									"description": "Optional filter for quality"
								}
							],
							"variable": [
								{
									"key": "categoryName",
									"value": "man",
									"description": "Name of the category to get links for"
								}
							]
						},
						"description": "Get links for a specific category with pagination and filtering"
					},
					"response": []
				},
				{
					"name": "Get Categories By Tenant",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Tenant-Id",
								"value": "0",
								"type": "text",
								"description": "Tenant ID (optional, defaults to 0)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/categories/tenant",
							"host": ["{{base_url}}"],
							"path": ["api", "categories", "tenant"]
						},
						"description": "Get all categories for a specific tenant"
					},
					"response": []
				},
				{
					"name": "Search Categories",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Tenant-Id",
								"value": "0",
								"type": "text",
								"description": "Tenant ID (optional, defaults to 0)"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/categories/search?name=",
							"host": ["{{base_url}}"],
							"path": ["api", "categories", "search"],
							"query": [
								{
									"key": "name",
									"value": "",
									"description": "Name to search for"
								}
							]
						},
						"description": "Search categories by name"
					},
					"response": []
				}
			]
		},
		{
			"name": "Cache Management",
			"item": [
				{
					"name": "Clear All Cache",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/cache/clear",
							"host": ["{{base_url}}"],
							"path": ["api", "cache", "clear"]
						},
						"description": "Clear all Redis caches"
					},
					"response": []
				},
				{
					"name": "Clear Specific Cache",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/cache/clear/:cacheName",
							"host": ["{{base_url}}"],
							"path": ["api", "cache", "clear", ":cacheName"],
							"variable": [
								{
									"key": "cacheName",
									"value": "homeCategories",
									"description": "Name of the cache to clear"
								}
							]
						},
						"description": "Clear specific cache by name (e.g., homeCategories)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Google Sheets",
			"item": [
				{
					"name": "Process Google Sheets",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/google-sheets/process",
							"host": ["{{base_url}}"],
							"path": ["api", "google-sheets", "process"]
						},
						"description": "Trigger the processing of Google Sheets data"
					},
					"response": []
				},
				{
					"name": "Get All Processed Sheets",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/google-sheets/processed",
							"host": ["{{base_url}}"],
							"path": ["api", "google-sheets", "processed"]
						},
						"description": "Get a list of all processed sheets and their status"
					},
					"response": []
				},
				{
					"name": "Get Processed Sheets By Workbook",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/google-sheets/processed/:workbookId",
							"host": ["{{base_url}}"],
							"path": ["api", "google-sheets", "processed", ":workbookId"],
							"variable": [
								{
									"key": "workbookId",
									"value": "your-spreadsheet-id",
									"description": "ID of the Google Sheets workbook"
								}
							]
						},
						"description": "Get a list of processed sheets for a specific workbook"
					},
					"response": []
				}
			]
		},
		{
			"name": "Elasticsearch Links",
			"item": [
				{
					"name": "Create Link",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Sample Link\",\n    \"link\": \"https://example.com/sample\",\n    \"thumbnail\": \"https://example.com/sample.jpg\",\n    \"categories\": [\"category1\", \"category2\"],\n    \"tenantId\": 0\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/es/links",
							"host": ["{{base_url}}"],
							"path": ["api", "es", "links"]
						},
						"description": "Create a new link in Elasticsearch"
					},
					"response": []
				},
				{
					"name": "Get Link By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/es/links/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "es", "links", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "123",
									"description": "Link document ID"
								}
							]
						},
						"description": "Get a link by its ID from Elasticsearch"
					},
					"response": []
				},
				{
					"name": "Get Links By Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/es/links/category/:category",
							"host": ["{{base_url}}"],
							"path": ["api", "es", "links", "category", ":category"],
							"variable": [
								{
									"key": "category",
									"value": "man",
									"description": "Category name"
								}
							]
						},
						"description": "Get links for a specific category from Elasticsearch"
					},
					"response": []
				},
				{
					"name": "Search Links",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/es/links/search?title=&searchableText=",
							"host": ["{{base_url}}"],
							"path": ["api", "es", "links", "search"],
							"query": [
								{
									"key": "title",
									"value": "",
									"description": "Title to search for"
								},
								{
									"key": "searchableText",
									"value": "",
									"description": "Text to search for in all fields"
								}
							]
						},
						"description": "Search links by title or text in Elasticsearch"
					},
					"response": []
				},
				{
					"name": "Update Link",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Link\",\n    \"link\": \"https://example.com/updated\",\n    \"thumbnail\": \"https://example.com/updated.jpg\",\n    \"categories\": [\"category1\", \"category3\"],\n    \"tenantId\": 0\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/es/links/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "es", "links", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "123",
									"description": "Link document ID"
								}
							]
						},
						"description": "Update an existing link in Elasticsearch"
					},
					"response": []
				},
				{
					"name": "Delete Link",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/es/links/:id",
							"host": ["{{base_url}}"],
							"path": ["api", "es", "links", ":id"],
							"variable": [
								{
									"key": "id",
									"value": "123",
									"description": "Link document ID"
								}
							]
						},
						"description": "Delete a link from Elasticsearch"
					},
					"response": []
				},
				{
					"name": "Get All Links",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/es/links",
							"host": ["{{base_url}}"],
							"path": ["api", "es", "links"]
						},
						"description": "Get all links from Elasticsearch"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080/fvp-service",
			"type": "string"
		}
	]
} 